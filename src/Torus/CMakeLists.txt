#INCLUDE_DIRECTORIES(${ROSS_SOURCE_DIR})

SET(torus_srcs 
torus.c torus.h)

SET( CMAKE_C_FLAGS "-DUSE_AVL_TREE -DAVL_NODE_COUNT=262144 -DRAND_NORMAL -DROSS_timing -DROSS_QUEUE_splay -DROSS_RAND_clcg4 -DROSS_NETWORK_mpi -DROSS_CLOCK_i386 -DROSS_GVT_mpi_allreduce -DARCH_i386"  )

#SET( CMAKE_C_FLAGS "-DROSS_OPTION_LIST='" -DUSE_AVL_TREE -DAVL_NODE_COUNT=262144 -DRAND_NORMAL -DROSS_timing -DROSS_QUEUE_splay -DROSS_RAND_clcg4 -DROSS_NETWORK_mpi -DROSS_CLOCK_i386 -DROSS_GVT_mpi_allreduce -DARCH_i386"'" )

SET( CMAKE_SHARED_LINKER_FLAGS "-DROSS_OPTION_LIST='" -DUSE_AVL_TREE -DAVL_NODE_COUNT=262144 -DRAND_NORMAL -DROSS_timing -DROSS_QUEUE_splay -DROSS_RAND_clcg4 -DROSS_NETWORK_mpi -DROSS_CLOCK_i386 -DROSS_GVT_mpi_allreduce -DARCH_i386"'" ) 

INCLUDE_DIRECTORIES(/opt/include)
ADD_EXECUTABLE(torus ${torus_srcs})


#FIND_LIBRARY(ROSS_LIBRARY ROSS /opt/lib)
TARGET_LINK_LIBRARIES(torus /opt/lib/libROSS.a m)

#TARGET_LINK_LIBRARIES(torus ROSS m)

